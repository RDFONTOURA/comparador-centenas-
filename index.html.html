<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>ğŸ² Palpiteiro & Resultados Jogo</title>
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <header>
    <h1>ğŸ¯ Palpiteiro de Centenas</h1>
  </header>

  <main>
    <!-- Palpiteiro -->
    <section class="card">
      <h2>Gerar Palpites (Centenas)</h2>
      <p>Baseado no dia do mÃªs e no nÃºmero 22.</p>
      <button onclick="gerarPalpites()">ğŸ”® Gerar</button>
      <div id="palpites"></div>
    </section>

    <!-- Resultados -->
    <section class="card">
      <h2>ğŸ“Š Resultados Jogo</h2>
      <p id="atualizacao">Carregando...</p>
      <div id="conteudo"></div>
    </section>
  </main>

  <footer>
    <p>Desenvolvido para estudos ğŸ’</p>
  </footer>

  <script>
    async function carregarResultados() {
      try {
        const resposta = await fetch("resultados.json");
        const dados = await resposta.json();

        document.getElementById("atualizacao").innerText =
          `Atualizado em: ${dados.data}`;

        let html = "<table><tr><th>NÃºmeros</th></tr>";
        dados.resultados.forEach(r => {
          html += `<tr><td>${r.join(" - ")}</td></tr>`;
        });
        html += "</table>";

        document.getElementById("conteudo").innerHTML = html;
      } catch (e) {
        document.getElementById("conteudo").innerText = "âŒ NÃ£o foi possÃ­vel carregar os resultados.";
      }
    }

    function gerarPalpites() {
      const dia = new Date().getDate();
      const base = 22;
      let valor = dia + base;
      let centenas = [];

      // gera 10 palpites de centenas
      for (let i = 0; i < 10; i++) {
        valor = valor + base - 1;
        let numero = valor.toString().padStart(3, "0");

        // monta algumas variaÃ§Ãµes de centenas
        centenas.push(numero);
        centenas.push(numero.split("").reverse().join(""));
        centenas.push(numero[1] + numero[2] + numero[0]);
      }

      // remove duplicados
      centenas = [...new Set(centenas)];

      document.getElementById("palpites").innerHTML =
        `<p>ğŸ“… Dia: ${dia}</p>
         <p>âœ¨ Palpites em centenas:</p>
         <div class="centenas">${centenas.join(" â€¢ ")}</div>`;
    }

    carregarResultados();
  </script>
</body>
</html>
