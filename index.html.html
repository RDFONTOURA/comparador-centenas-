<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>🎲 Palpiteiro & Resultados Jogo</title>
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <header>
    <h1>🎯 Palpiteiro de Centenas</h1>
  </header>

  <main>
    <!-- Palpiteiro -->
    <section class="card">
      <h2>Gerar Palpites (Centenas)</h2>
      <p>Baseado no dia do mês e no número 22.</p>
      <button onclick="gerarPalpites()">🔮 Gerar</button>
      <div id="palpites"></div>
    </section>

    <!-- Resultados -->
    <section class="card">
      <h2>📊 Resultados Jogo</h2>
      <p id="atualizacao">Carregando...</p>
      <div id="conteudo"></div>
    </section>
  </main>

  <footer>
    <p>Desenvolvido para estudos 🐒</p>
  </footer>

  <script>
    async function carregarResultados() {
      try {
        const resposta = await fetch("resultados.json");
        const dados = await resposta.json();

        document.getElementById("atualizacao").innerText =
          `Atualizado em: ${dados.data}`;

        let html = "<table><tr><th>Números</th></tr>";
        dados.resultados.forEach(r => {
          html += `<tr><td>${r.join(" - ")}</td></tr>`;
        });
        html += "</table>";

        document.getElementById("conteudo").innerHTML = html;
      } catch (e) {
        document.getElementById("conteudo").innerText = "❌ Não foi possível carregar os resultados.";
      }
    }

    function gerarPalpites() {
      const dia = new Date().getDate();
      const base = 22;
      let valor = dia + base;
      let centenas = [];

      // gera 10 palpites de centenas
      for (let i = 0; i < 10; i++) {
        valor = valor + base - 1;
        let numero = valor.toString().padStart(3, "0");

        // monta algumas variações de centenas
        centenas.push(numero);
        centenas.push(numero.split("").reverse().join(""));
        centenas.push(numero[1] + numero[2] + numero[0]);
      }

      // remove duplicados
      centenas = [...new Set(centenas)];

      document.getElementById("palpites").innerHTML =
        `<p>📅 Dia: ${dia}</p>
         <p>✨ Palpites em centenas:</p>
         <div class="centenas">${centenas.join(" • ")}</div>`;
    }

    carregarResultados();
  </script>
</body>
</html>
